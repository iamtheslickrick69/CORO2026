"use client"

import { useState, useEffect } from "react"
import { Shield, Lock, Database, UserCheck, HeartPulse, Brain } from "lucide-react"
import { ScrollAnimation } from "@/components/ui/scroll-animation"

export function CoroDemoSection() {
  const [employeeMessage, setEmployeeMessage] = useState(0)

  const employeeMessages = [
    { type: "coro", text: "Hey there! This is CORO. Checking in - how's your mental health this week?" },
    { type: "user", text: "Honestly not great. Work stress is getting to me." },
    { type: "coro", text: "I'm here to listen. What's been most stressful?" },
    { type: "user", text: "Constant overtime. I barely sleep. Feeling burned out and hopeless." },
    { type: "coro", text: "That sounds really hard. Burnout and sleep issues are serious. Would you like me to connect you with immediate support resources?" },
    { type: "user", text: "Yeah, I think I need help." },
    { type: "coro", text: "✓ Connected you to EAP counselor. ✓ Alerted wellness team. ✓ Sent coping resources. You're not alone in this." },
  ]

  useEffect(() => {
    const timer = setInterval(() => {
      setEmployeeMessage((prev) => (prev + 1) % employeeMessages.length)
    }, 3000)
    return () => clearInterval(timer)
  }, [employeeMessages.length])

  return (
    <section className="overflow-hidden">
      {/* Employee Mental Health Demo */}
      <div className="py-8 bg-slate-800">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center">
            <h3 className="text-2xl font-bold text-white">See CORO in Action</h3>
            <p className="text-slate-400 mt-2">Anonymous mental health check-in via SMS</p>
          </div>
        </div>
      </div>

      {/* Demo Content */}
      <div className="py-16 lg:py-24 bg-slate-800 text-white min-h-[800px]">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
            {/* Content Left */}
            <ScrollAnimation>
              <span className="inline-block text-sm font-semibold text-slate-300 uppercase tracking-wide mb-4">
                How CORO Works
              </span>
              <h2 className="text-3xl sm:text-4xl lg:text-5xl font-bold leading-tight tracking-tight mb-6 text-balance">
                AI-Powered Crisis Detection.
                <br />
                <span className="text-slate-300">Human Support Connection.</span>
              </h2>
              <p className="text-lg text-slate-400 leading-relaxed mb-8 text-pretty">
                CORO uses AI to analyze anonymous employee conversations for mental health crisis signals. When burnout, depression, or suicide risk is detected, it immediately connects employees to EAP resources and alerts your wellness team — all while protecting anonymity.
              </p>

              <div className="bg-slate-700/50 backdrop-blur rounded-2xl p-6 mb-8 border border-slate-600 hover:border-white/30 transition-colors">
                <div className="flex items-start gap-4 mb-4">
                  <div className="w-12 h-12 rounded-xl bg-gradient-to-br from-white to-slate-300 flex items-center justify-center shrink-0">
                    <Shield className="w-6 h-6 text-slate-800" />
                  </div>
                  <div>
                    <h3 className="font-bold text-white text-lg mb-1">Complete Confidentiality</h3>
                    <p className="text-slate-400 text-sm leading-relaxed">
                      HIPAA-compliant, end-to-end encrypted mental health conversations. Your data is never shared, sold, or used for any purpose beyond crisis detection and support. Complete employee anonymity guaranteed.
                    </p>
                  </div>
                </div>

                <div className="grid grid-cols-3 gap-4 pt-4 border-t border-slate-600">
                  <div className="text-center">
                    <Lock className="w-5 h-5 text-slate-300 mx-auto mb-2" />
                    <p className="text-xs text-slate-500">End-to-End Encrypted</p>
                  </div>
                  <div className="text-center">
                    <HeartPulse className="w-5 h-5 text-slate-300 mx-auto mb-2" />
                    <p className="text-xs text-slate-500">HIPAA Compliant</p>
                  </div>
                  <div className="text-center">
                    <UserCheck className="w-5 h-5 text-slate-300 mx-auto mb-2" />
                    <p className="text-xs text-slate-500">100% Anonymous</p>
                  </div>
                </div>
              </div>

              <div className="flex items-start gap-3 p-4 rounded-xl bg-white/10 border border-white/20">
                <Brain className="w-5 h-5 text-slate-300 shrink-0 mt-0.5" />
                <p className="text-sm text-slate-300">
                  <span className="font-semibold text-white">Early Detection Saves Lives:</span> CORO's AI identifies crisis language patterns an average of 14 days before traditional systems. That's 2 weeks to intervene, support, and prevent tragedy.
                </p>
              </div>
            </ScrollAnimation>
        <div className="py-16 lg:py-24 bg-slate-800 text-white min-h-[800px]">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div className="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
              {/* Content Left */}
              <ScrollAnimation>
                <span className="inline-block text-sm font-semibold text-slate-300 uppercase tracking-wide mb-4">
                  Meet Coro
                </span>
                <h2 className="text-3xl sm:text-4xl lg:text-5xl font-bold leading-tight tracking-tight mb-6 text-balance">
                  Not AI. Not a Bot.
                  <br />
                  <span className="text-slate-300">A Trusted Third-Party Escrow.</span>
                </h2>
                <p className="text-lg text-slate-400 leading-relaxed mb-8 text-pretty">
                  Coro is an intelligent closed-source script, trained by AI but not AI itself. It's the neutral bridge
                  between your employees and leadership — a third-party escrow that protects both sides.
                </p>

                <div className="bg-slate-700/50 backdrop-blur rounded-2xl p-6 mb-8 border border-slate-600 hover:border-white/30 transition-colors">
                  <div className="flex items-start gap-4 mb-4">
                    <div className="w-12 h-12 rounded-xl bg-gradient-to-br from-white to-slate-300 flex items-center justify-center shrink-0">
                      <Shield className="w-6 h-6 text-slate-800" />
                    </div>
                    <div>
                      <h3 className="font-bold text-white text-lg mb-1">Your Data. Period.</h3>
                      <p className="text-slate-400 text-sm leading-relaxed">
                        We created Coro so no one profits from your sensitive information. Your data is never shared
                        with third parties. Never sold. Never used to train external models.
                      </p>
                    </div>
                  </div>

                  <div className="grid grid-cols-3 gap-4 pt-4 border-t border-slate-600">
                    <div className="text-center">
                      <Lock className="w-5 h-5 text-slate-300 mx-auto mb-2" />
                      <p className="text-xs text-slate-500">End-to-End Encrypted</p>
                    </div>
                    <div className="text-center">
                      <Database className="w-5 h-5 text-slate-300 mx-auto mb-2" />
                      <p className="text-xs text-slate-500">Zero Data Selling</p>
                    </div>
                    <div className="text-center">
                      <UserCheck className="w-5 h-5 text-slate-300 mx-auto mb-2" />
                      <p className="text-xs text-slate-500">You Own It All</p>
                    </div>
                  </div>
                </div>

                <div className="flex items-start gap-3 p-4 rounded-xl bg-white/10 border border-white/20">
                  <UserCheck className="w-5 h-5 text-slate-300 shrink-0 mt-0.5" />
                  <p className="text-sm text-slate-300">
                    <span className="font-semibold text-white">Better than passwords:</span> Your 10-digit phone number
                    is your secure key. Only you can access your conversation history — not even executives can see who
                    said what.
                  </p>
                </div>
              </ScrollAnimation>

              <ScrollAnimation delay={0.2} className="flex justify-center lg:justify-end">
                <div className="relative">
                  <div className="w-[340px] sm:w-[380px] bg-white rounded-[3rem] p-3 shadow-2xl transform hover:scale-[1.02] transition-transform duration-500">
                    <div className="bg-slate-50 rounded-[2.5rem] overflow-hidden">
                      {/* Status Bar */}
                      <div className="bg-slate-50 px-6 py-3 flex items-center justify-between">
                        <span className="text-sm font-medium text-slate-900">9:41</span>
                        <div className="flex items-center gap-1">
                          <div className="w-4 h-2 bg-slate-300 rounded-sm" />
                          <div className="w-4 h-2 bg-slate-300 rounded-sm" />
                          <div className="w-6 h-3 bg-slate-900 rounded-sm" />
                        </div>
                      </div>

                      {/* Chat Header */}
                      <div className="bg-white px-4 py-4 border-b border-slate-200 flex items-center gap-3">
                        <div className="w-12 h-12 rounded-full bg-gradient-to-br from-slate-600 to-slate-800 flex items-center justify-center">
                          <span className="text-white font-semibold">C</span>
                        </div>
                        <div>
                          <p className="font-semibold text-slate-900">Coro</p>
                          <p className="text-sm text-slate-500">Secure Escrow • Online</p>
                        </div>
                      </div>

                      <div className="bg-slate-100 p-4 space-y-4 min-h-[480px]">
                        {employeeMessages.map((msg, index) => (
                          <div
                            key={index}
                            className={`flex ${msg.type === "user" ? "justify-end" : "gap-2"} transition-all duration-300 ${
                              index <= employeeMessage ? "opacity-100 translate-y-0" : "opacity-0 translate-y-2"
                            }`}
                          >
                            {msg.type === "coro" && (
                              <div className="w-8 h-8 rounded-full bg-gradient-to-br from-slate-600 to-slate-800 flex items-center justify-center shrink-0">
                                <span className="text-white font-semibold text-xs">C</span>
                              </div>
                            )}
                            <div
                              className={`max-w-[80%] p-3 rounded-2xl text-sm ${
                                msg.type === "user"
                                  ? "bg-slate-800 text-white rounded-br-md"
                                  : "bg-white text-slate-800 rounded-bl-md shadow-sm"
                              }`}
                            >
                              {msg.text}
                            </div>
                          </div>
                        ))}
                      </div>
                    </div>
                  </div>
                </div>
              </ScrollAnimation>
            </div>
          </div>
        </div>
      )}

      {/* Customer Tab Content - Same height as employee tab, full size phone */}
      {activeTab === "customers" && (
        <div className="py-16 lg:py-24 bg-slate-200 min-h-[800px]">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div className="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
              <ScrollAnimation className="flex justify-center lg:justify-start">
                <div className="relative">
                  <div className="w-[340px] sm:w-[380px] bg-white rounded-[3rem] p-3 shadow-2xl transform hover:scale-[1.02] transition-transform duration-500">
                    <div className="bg-slate-50 rounded-[2.5rem] overflow-hidden">
                      {/* Status Bar */}
                      <div className="bg-slate-50 px-6 py-3 flex items-center justify-between">
                        <span className="text-sm font-medium text-slate-900">9:41</span>
                        <div className="flex items-center gap-1">
                          <div className="w-4 h-2 bg-slate-300 rounded-sm" />
                          <div className="w-4 h-2 bg-slate-300 rounded-sm" />
                          <div className="w-6 h-3 bg-slate-900 rounded-sm" />
                        </div>
                      </div>

                      {/* Chat Header */}
                      <div className="bg-white px-4 py-4 border-b border-slate-200 flex items-center gap-3">
                        <div className="w-12 h-12 rounded-full bg-gradient-to-br from-slate-600 to-slate-800 flex items-center justify-center">
                          <span className="text-white font-semibold">C</span>
                        </div>
                        <div>
                          <p className="font-semibold text-slate-900">Coro</p>
                          <p className="text-sm text-slate-500">Customer Feedback</p>
                        </div>
                        {/* Review badge */}
                        <div className="ml-auto flex items-center gap-1 bg-amber-100 px-2 py-1 rounded-full">
                          <Star className="w-3 h-3 text-amber-500 fill-amber-500" />
                          <span className="text-xs font-semibold text-amber-700">+47 Reviews</span>
                        </div>
                      </div>

                      <div className="bg-slate-100 p-4 space-y-4 min-h-[480px]">
                        {customerMessages.map((msg, index) => (
                          <div
                            key={index}
                            className={`flex ${msg.type === "customer" ? "justify-end" : "gap-2"} transition-all duration-300 ${
                              index <= customerMessage ? "opacity-100 translate-y-0" : "opacity-0 translate-y-2"
                            }`}
                          >
                            {msg.type === "coro" && (
                              <div className="w-8 h-8 rounded-full bg-gradient-to-br from-slate-600 to-slate-800 flex items-center justify-center shrink-0">
                                <span className="text-white font-semibold text-xs">C</span>
                              </div>
                            )}
                            <div
                              className={`max-w-[80%] p-3 rounded-2xl text-sm ${
                                msg.type === "customer"
                                  ? "bg-slate-800 text-white rounded-br-md"
                                  : "bg-white text-slate-800 rounded-bl-md shadow-sm"
                              }`}
                            >
                              {msg.text}
                            </div>
                          </div>
                        ))}
                      </div>
                    </div>
                  </div>
                </div>
              </ScrollAnimation>

              {/* Content Right */}
              <ScrollAnimation delay={0.2}>
                <span className="inline-block text-sm font-semibold text-slate-600 uppercase tracking-wide mb-4">
                  Customer Feedback
                </span>
                <h2 className="text-3xl sm:text-4xl lg:text-5xl font-bold leading-tight tracking-tight mb-6 text-slate-900 text-balance">
                  Prevent Bad Reviews.
                  <br />
                  <span className="text-slate-500">Reward Good Ones.</span>
                </h2>
                <p className="text-lg text-slate-600 leading-relaxed mb-8 text-pretty">
                  Give customers a direct line to you before they go to Google. Capture feedback, resolve issues, and
                  turn happy customers into 5-star advocates.
                </p>

                <div className="bg-white rounded-2xl p-6 mb-8 border border-slate-300 shadow-sm hover:shadow-md transition-shadow">
                  <p className="text-sm text-slate-500 mb-2">Text feedback to</p>
                  <p className="text-2xl font-bold text-slate-900 mb-4">(555) 123-CORO</p>
                  <p className="text-sm text-slate-600">
                    One number for employees and customers. Post in-store, on receipts, or on your website.
                  </p>
                </div>

                <div className="flex items-start gap-3 p-4 rounded-xl bg-slate-300/50 border border-slate-400/50">
                  <Star className="w-5 h-5 text-amber-500 shrink-0 mt-0.5" />
                  <p className="text-sm text-slate-700">
                    <span className="font-semibold text-slate-900">Customizable rewards:</span> Offer discounts, free
                    items, loyalty points, or any reward you choose to thank customers for positive reviews.
                  </p>
                </div>
              </ScrollAnimation>
            </div>
          </div>
        </div>
      )}
    </section>
  )
}
